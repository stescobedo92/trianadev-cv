<div class="page"
     fxLayout="column">
  <button class="print-button"
          (click)="printAction()">
    <fa-icon [icon]="printIcon"></fa-icon>
  </button>
  <div fxLayout="row" class="cv-banner">
    <div fxLayout="column"
         fxFlex="65">
      <h1>{{curriculum?.name}}</h1>
      <h2>{{curriculum?.personalDescription}}</h2>
    </div>
    <div fxFlex="35" class="image-container">
      <img class="avatar"
           [src]="curriculum?.personUrl || '/assets/avatar.jpeg'"
           alt="avatar">
    </div>
  </div>
  <div class="cv-bottom-banner">
    <div fxLayout="row wrap"
         class="cv-bottom-banner-inner">
      <div class="personal-data"
           fxFlex="45"
           fxLayout="row"
           *ngIf="curriculum?.phoneNumbers">
        <span class="data-title">Phone(s):</span>
        <div class="sub-data"><span *ngFor="let number of curriculum?.phoneNumbers">{{number}}</span></div>
      </div>
      <div class="personal-data"
           fxFlex="45"
           fxLayout="row"
           *ngIf="curriculum?.emails">
        <span class="data-title">Email(s):</span>
        <div class="sub-data"><span *ngFor="let email of curriculum?.emails">{{email}}</span></div>
      </div>
      <ng-container *ngIf="curriculum?.social">
        <div fxFlex="45"
             fxLayout="row"
             *ngFor="let social of curriculum.social"
             class="social personal-data">
          <span class="data-title">{{social.name}}: </span>
          <div class="container sub-data">
            <a [href]="social.url">{{social.identity}}</a>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
  <div class="title cv-margin"
       *ngIf="curriculum?.profile">
    <h2>About Me</h2>
    <div class="line-container">
      <div class="line"></div>
    </div>
  </div>
  <markdown *ngIf="curriculum?.profile"
            class="text cv-margin"
            [data]="curriculum?.profile"></markdown>
  <div class="title cv-margin"
       *ngIf="curriculum?.skills">
    <h2>Skills</h2>
    <div class="line-container">
      <div class="line"></div>
    </div>
  </div>
  <div class="skills cv-margin"
       fxLayout="row wrap"
       fxLayoutAlign="center center"
       *ngIf="curriculum?.skills">
    <div *ngFor="let skill of curriculum?.skills"
         fxFlex="33"
         class="skill">
      {{skill?.name}}
      <div class="progress">
        <div class="bar-container">
          <div class="bar"
               *ngFor="let ignore of createArray(tilesCount)"></div>
        </div>
        <div class="tile-container">
          <div class="tile"
               *ngFor="let ignore of createArray(progressTilesCount(skill.level))"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="title cv-margin"
       *ngIf="curriculum?.education">
    <h2>Education</h2>
    <div class="line-container">
      <div class="line"></div>
    </div>
  </div>
  <div *ngIf="curriculum?.education"
       class="new-page cv-margin">
    <table>
      <tr *ngFor="let edu of curriculum.education">
        <td class="first"><span>{{edu.title}}</span> {{edu.startDate.getFullYear()}}
          -{{edu.endDate.getFullYear() || ''}}</td>
        <td class="second">
          <markdown [data]="edu.entity"></markdown>
        </td>
      </tr>
    </table>
  </div>
  <div class="title new-page cv-margin"
       *ngIf="curriculum?.experience">
    <h2>Work History</h2>
    <div class="line-container">
      <div class="line"></div>
    </div>
  </div>
  <div *ngIf="curriculum?.experience"
       class="cv-margin">
    <table>
      <tr *ngFor="let job of curriculum.experience">
        <td class="first">
          <span>{{job.name}}</span>, {{job.startDate.getFullYear()}}{{endDate(job.startDate, job.endDate)}}</td>
        <td class="second">
          <markdown [data]="job.description"></markdown>
        </td>
      </tr>
    </table>
  </div>
</div>
